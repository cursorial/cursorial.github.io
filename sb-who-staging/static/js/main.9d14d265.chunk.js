(this.webpackJsonpsbWhoStaging=this.webpackJsonpsbWhoStaging||[]).push([[0],{63:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(14),c=n.n(o),u=n(12),i=n(32),s=n(3),l=n(10),p=n(20),d=n(4),f=n.n(d),j=n(9),h=n(31),v={apiUrl:"https://sb-who-staging.herokuapp.com"},b=n.n(h).a.create({baseURL:v.apiUrl}),x="authToken",y=null;window.localStorage&&(y=window.localStorage.getItem(x));b.interceptors.request.use((function(e){return y&&(e.headers.Authorization="Bearer ".concat(y)),e})),b.interceptors.response.use(void 0,(function(e){var t;return 401===(null===(t=e.response)||void 0===t?void 0:t.status)&&(y=void 0,window.localStorage&&window.localStorage.removeItem(x)),Promise.reject(e)}));var g=function(e){if(null===e||void 0===e?void 0:e.response){var t,n=null===(t=e.response)||void 0===t?void 0:t.data,r=e.response.status,a=new Error((null===n||void 0===n?void 0:n.message)||e.message);throw a.statusCode=r,a.data=null===n||void 0===n?void 0:n.data,a}throw e},w=b,m=function(){var e=Object(j.a)(f.a.mark((function e(t,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.post(v.apiUrl+"/"+t,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:e.prev=7,e.t0=e.catch(0),g(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),O=n(16),k=new u.a,C=new Map,S=function(e){return Array.from(C.get(e)||[])},I=function(e){var t,n=new Set,r=Object(O.a)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;S(a).forEach((function(e){return n.add(e)}))}}catch(i){r.e(i)}finally{r.f()}var o,c=Object(O.a)(n);try{for(c.s();!(o=c.n()).done;){var u=o.value;k.invalidateQueries(u)}}catch(i){c.e(i)}finally{c.f()}},q=function(){var e=Object(j.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("operations/create-project",t);case 2:return n=e.sent,I(P),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=["Project"],U=q,E=function(){var e=Object(j.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("operations/claim-project",t);case 2:return n=e.sent,I(K),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=["Project"],A=E,F=function(){var e=Object(j.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("operations/unclaim-project",t);case 2:return n=e.sent,I(W),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=["Project"],B=F,H=function(){var e=Object(j.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("operations/get-projects",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R="operations/get-projects";H.queryCacheKey=R;!function(e,t){var n,r=Object(O.a)(t);try{for(r.s();!(n=r.n()).done;){var a=n.value,o=C.get(a);o||(o=new Set,C.set(a,o)),o.add(e)}}catch(c){r.e(c)}finally{r.f()}}(R,["Project"]);var z=H,J=n(2),N={container:{padding:"10px",margin:"10px",display:"flex"},inputContainer:{flexDirection:"column",alignItems:"center"},textInput:{width:"80%",fontSize:"30px",textAlign:"center"},textInputHint:{background:"#ffeeee",padding:"10px",borderRadius:"10px"},getProjectStyles:function(e){var t={padding:"20px",margin:"10px",borderRadius:"10px"};return e?Object(l.a)(Object(l.a)({},t),{background:"#ffeeee"}):Object(l.a)(Object(l.a)({},t),{background:"#eeffee"})}},Q=function(){var e=function(e,t,n){if("function"!==typeof e)throw new Error("useQuery requires queryFn to be a function.");if(!e.queryCacheKey)throw new Error("queryFn needs to have queryCacheKey property defined.");return Object(u.c)({queryKey:[e.queryCacheKey,t],queryFn:function(t,n){return e(n)},config:n})}(z).data,t=a.a.useState("default"),n=Object(p.a)(t,2),r=n[0],o=n[1],c=a.a.useState(""),i=Object(p.a)(c,2),s=i[0],d=i[1],f=function(e){return!!e.user},j=function(e){A({id:parseInt(e.target.value),user:r})},h=function(e){B({id:parseInt(e.target.value),user:r})},v=function(e){return e.user!==r&&""!==e.user?null:Object(J.jsx)("button",{value:e.id,onClick:f(e)?h:j,children:f(e)?"Unclaim":"Claim"})};return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)("div",{style:Object(l.a)(Object(l.a)({},N.container),N.inputContainer),children:[Object(J.jsx)("input",{style:N.textInput,type:"text",placeholder:"Name",value:r,onChange:function(e){return o(e.target.value)}}),Object(J.jsx)("p",{style:N.textInputHint,children:"Please ensure you enter your full name to avoid confusion"})]}),Object(J.jsxs)("div",{style:Object(l.a)(Object(l.a)({},N.container),N.inputContainer),children:[Object(J.jsx)("input",{style:N.textInput,type:"text",placeholder:"Project Name",value:s,onChange:function(e){return d(e.target.value)}}),Object(J.jsx)("button",{onClick:function(){if(s.length<5)return null;U({name:s}),d("")},children:"Add Project"}),Object(J.jsx)("p",{style:N.textInputHint,children:"Please check this project does not already exist before creating one"})]}),Object(J.jsx)("div",{style:N.container,children:e?e.map((function(e){return Object(J.jsxs)("div",{style:N.getProjectStyles(f(e)),children:[Object(J.jsx)("p",{children:e.name}),Object(J.jsx)("p",{children:e.user?e.user:"Unclaimed"}),v(e)]},e.id)})):null})]})},D=Object(J.jsx)(i.a,{children:Object(J.jsx)("div",{children:Object(J.jsx)(s.a,{exact:!0,path:"/",component:Q})})});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(63);c.a.render(Object(J.jsx)(u.b,{queryCache:k,children:D}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[64,1,2]]]);
//# sourceMappingURL=main.9d14d265.chunk.js.map